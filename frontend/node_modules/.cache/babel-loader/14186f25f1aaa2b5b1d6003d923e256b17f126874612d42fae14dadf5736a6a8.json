{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import TranscriptList from'./components/TranscriptList';import TranscriptViewer from'./components/TranscriptViewer';import SummaryPanel from'./components/SummaryPanel';import AgentDashboard from'./pages/AgentDashboard';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[transcripts,setTranscripts]=useState([]);const[selectedTranscript,setSelectedTranscript]=useState(null);const[loading,setLoading]=useState(false);const[activeTab,setActiveTab]=useState('dashboard');useEffect(()=>{fetchTranscripts();// Poll for new transcripts every 30 seconds\nconst interval=setInterval(fetchTranscripts,30000);return()=>clearInterval(interval);},[]);const fetchTranscripts=async()=>{try{setLoading(true);const response=await axios.get('/api/transcripts');setTranscripts(response.data.data||[]);}catch(error){console.error('Error fetching transcripts:',error);}finally{setLoading(false);}};const handleSelectTranscript=transcript=>{setSelectedTranscript(transcript);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Home Insurance Agent Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lloyd's Banking Group - Real-time Home Insurance Call Transcript Analysis\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"app-nav\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-btn \".concat(activeTab==='dashboard'?'active':''),onClick:()=>setActiveTab('dashboard'),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-btn \".concat(activeTab==='transcripts'?'active':''),onClick:()=>setActiveTab('transcripts'),children:\"Transcripts\"})]}),/*#__PURE__*/_jsx(\"main\",{className:\"app-main\",children:activeTab==='dashboard'?/*#__PURE__*/_jsx(AgentDashboard,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"transcripts-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"transcript-list-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Recent Calls (\",transcripts.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-btn\",onClick:fetchTranscripts,disabled:loading,children:loading?'⟳ Loading...':'⟳ Refresh'})]}),/*#__PURE__*/_jsx(TranscriptList,{transcripts:transcripts,onSelectTranscript:handleSelectTranscript,selectedId:selectedTranscript===null||selectedTranscript===void 0?void 0:selectedTranscript.id})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transcript-detail-panel\",children:selectedTranscript?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TranscriptViewer,{transcript:selectedTranscript}),/*#__PURE__*/_jsx(SummaryPanel,{transcriptId:selectedTranscript.id,transcript:selectedTranscript})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-transcript-selected\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a call from the list to view transcript and insights\"})})})]})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","TranscriptList","TranscriptViewer","SummaryPanel","AgentDashboard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","transcripts","setTranscripts","selectedTranscript","setSelectedTranscript","loading","setLoading","activeTab","setActiveTab","fetchTranscripts","interval","setInterval","clearInterval","response","get","data","error","console","handleSelectTranscript","transcript","className","children","concat","onClick","length","disabled","onSelectTranscript","selectedId","id","transcriptId"],"sources":["/workspaces/agentdashboard/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport TranscriptList from './components/TranscriptList';\nimport TranscriptViewer from './components/TranscriptViewer';\nimport SummaryPanel from './components/SummaryPanel';\nimport AgentDashboard from './pages/AgentDashboard';\n\nfunction App() {\n  const [transcripts, setTranscripts] = useState([]);\n  const [selectedTranscript, setSelectedTranscript] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState('dashboard');\n\n  useEffect(() => {\n    fetchTranscripts();\n    // Poll for new transcripts every 30 seconds\n    const interval = setInterval(fetchTranscripts, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchTranscripts = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/transcripts');\n      setTranscripts(response.data.data || []);\n    } catch (error) {\n      console.error('Error fetching transcripts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectTranscript = (transcript) => {\n    setSelectedTranscript(transcript);\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>Home Insurance Agent Dashboard</h1>\n        <p>Lloyd's Banking Group - Real-time Home Insurance Call Transcript Analysis</p>\n      </header>\n\n      <div className=\"app-container\">\n        <nav className=\"app-nav\">\n          <button \n            className={`nav-btn ${activeTab === 'dashboard' ? 'active' : ''}`}\n            onClick={() => setActiveTab('dashboard')}\n          >\n            Dashboard\n          </button>\n          <button \n            className={`nav-btn ${activeTab === 'transcripts' ? 'active' : ''}`}\n            onClick={() => setActiveTab('transcripts')}\n          >\n            Transcripts\n          </button>\n        </nav>\n\n        <main className=\"app-main\">\n          {activeTab === 'dashboard' ? (\n            <AgentDashboard />\n          ) : (\n            <div className=\"transcripts-container\">\n              <div className=\"transcript-list-panel\">\n                <div className=\"panel-header\">\n                  <h2>Recent Calls ({transcripts.length})</h2>\n                  <button \n                    className=\"refresh-btn\"\n                    onClick={fetchTranscripts}\n                    disabled={loading}\n                  >\n                    {loading ? '⟳ Loading...' : '⟳ Refresh'}\n                  </button>\n                </div>\n                <TranscriptList \n                  transcripts={transcripts}\n                  onSelectTranscript={handleSelectTranscript}\n                  selectedId={selectedTranscript?.id}\n                />\n              </div>\n\n              <div className=\"transcript-detail-panel\">\n                {selectedTranscript ? (\n                  <>\n                    <TranscriptViewer transcript={selectedTranscript} />\n                    <SummaryPanel transcriptId={selectedTranscript.id} transcript={selectedTranscript} />\n                  </>\n                ) : (\n                  <div className=\"no-transcript-selected\">\n                    <p>Select a call from the list to view transcript and insights</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}